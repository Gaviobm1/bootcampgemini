<h1>Film</h1>
@if(VM.Elemento) {
<form #miForm="ngForm" class="row gy-2 gx-2 align-items-start">
@if (VM.Modo==='add') {

<div class="form-floating col-md-2">
<input class="form-control" [class.is-invalid]="id.invalid && miForm.dirty" type="number" name="id"
id="id" [(ngModel)]="VM.Elemento.id"
#id="ngModel" required min="0" placeholder=" ">
<label for="id">Código:</label>
<output class="invalid-feedback" [hidden]="id.valid">{{id.errors | errormsg}}</output>
</div>

} @else {
<div class="col-md-2">
<label class="form-label-sm" for="id">Código:</label>
<output class="d-block" [textContent]="VM.Elemento.filmId"></output>
</div>
}

<div class="form-floating col-md-4">
<input class="form-control" [class.is-invalid]="title.invalid" type="text" name="title" id="title"
[(ngModel)]="VM.Elemento.title" #title="ngModel" required minlength="2"
maxlength="50" placeholder=" ">
<label for="nombre">Title:</label>
<output class="invalid-feedback" [hidden]="title.valid">{{title.errors | errormsg}}</output>
</div>


<div class="form-floating col-md-4 h-100">
<textarea class="form-control" [class.is-invalid]="description.invalid" type="text" name="description"
id="apellidos"
[(ngModel)]="VM.Elemento.description" #description="ngModel" minlength="2" maxlength="500"
placeholder=" "></textarea>
<label for="apellidos">Description:</label>
<output class="invalid-feedback" [hidden]="description.valid">{{description.errors | errormsg}}</output>
</div>


<div class="form-floating col-md-6 col-lg-4">
<input class="form-control" [class.is-invalid]="language.invalid" type="text" name="language" id="language"
[(ngModel)]="VM.Elemento.language"
#language="ngModel" maxlength="100" placeholder=" ">
<label class="form-label" for="language">Language:</label>
<output class="invalid-feedback" [hidden]="language.valid">{{language.errors | errormsg}}</output>
</div>

<div class="form-floating col-md-6 col-lg-4">
    <input class="form-control" [class.is-invalid]="originalLanguage.invalid" type="text" name="originalLanguage" id="originalLanguage"
    [(ngModel)]="VM.Elemento.originalLanguage"
    #originalLanguage="ngModel" maxlength="100" placeholder=" ">
    <label class="form-label" for="originalLanguage">Original Language:</label>
    <output class="invalid-feedback" [hidden]="originalLanguage.valid">{{originalLanguage.errors | errormsg}}</output>
</div>

<div class="form-floating col-md-10">
    <p>Actors: </p>
    @for(actor of VM.Elemento.actors; track actor) {
        <div class="d-flex">
            <p>{{actor}}</p>
            <button class="btn btn-danger" (click)="removeActor(actor)"><i class="far fa-trash-alt"></i></button>   
        </div>
    }
</div>

<div class="form-floating col-md-10">
    <p>Categories: </p>
    @for(category of VM.Elemento.categorias; track category) {
        <div class="d-flex">
            <p>{{category}}</p>
            <button class="btn btn-danger" (click)="removeCategory(category)"><i class="far fa-trash-alt"></i></button>   
        </div>
    }
</div>

<div class="form-floating col-md-4">

<input class="form-control" [class.is-invalid]="actors.invalid" type="text" name="actors" id="actors"
[(ngModel)]="VM.Elemento.actors" #actors="ngModel" maxlength="500" placeholder=" ">
<label class="form-label" for="actors">Add Actor:</label>
<output class="invalid-feedback" [hidden]="actors.valid">{{actors.errors | errormsg}}</output>
</div>

<div class="form-floating col-md-12">
    <input class="form-control" [class.is-invalid]="categories.invalid" type="text" name="categories" id="categories"
    [(ngModel)]="VM.Elemento.categorias" #categories="ngModel" maxlength="500" placeholder=" ">
    <label class="form-label" for="actors">Categories:</label>
    <output class="invalid-feedback" [hidden]="categories.valid">{{categories.errors | errormsg}}</output>
</div>

<div class="mt-2">
<input type="button" class="btn btn-success" value="Enviar" (click)="VM.send()"
[disabled]="miForm.invalid">

<input type="button" class="btn btn-info" value="Volver" (click)="VM.cancel()">
</div>

</form>
} @else {
<h2>Sin datos</h2>
}